<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://osg-htc.org/user-school-2017/materials/day4/part1-ex2-connect-quickstart/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>1.2. Quickstart - OSG User School 2017</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <link href="../../../css/extra.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Setup", url: "#_top", children: [
          ]},
          {title: "Get the example files for the tutorial \"OSG Connect Quickstart\" via tutorial command", url: "#get-the-example-files-for-the-tutorial-osg-connect-quickstart-via-tutorial-command", children: [
          ]},
          {title: "Job Execution File", url: "#job-execution-file", children: [
          ]},
          {title: "Submitting the job on the OSG", url: "#submitting-the-job-on-the-osg", children: [
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <p>--+ !Thursday Exercise 1.2: Do the OSG Connect Quickstart</p>
<p>For this exercise, you can also follow the online guide from the OSG Connect helpdesk that will acquaint you with submission on the OSG Connect submit server. Please use the submit host user-training.osgconnect.net instead of login.osgconnect.net for the workshop.</p>
<h2 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">&para;</a></h2>
<ul>
<li>SSH into <code>user-training.osgconnect.net</code> (the OSG Connect submit server for this workshop).</li>
</ul>
<h2 id="get-the-example-files-for-the-tutorial-osg-connect-quickstart-via-tutorial-command">Get the example files for the tutorial "OSG Connect Quickstart" via <code>tutorial</code> command<a class="headerlink" href="#get-the-example-files-for-the-tutorial-osg-connect-quickstart-via-tutorial-command" title="Permanent link">&para;</a></h2>
<p>We will get the example files using the <code>tutorial</code> command.</p>
<div class="codehilite"><pre><span></span><code><span class="gp">%</span>UCL_PROMPT_SHORT% &lt;strong&gt;tutorial quickstart&lt;/strong&gt;
</code></pre></div>

<p>This creates a directory <code>tutorial-quickstart</code>. Go inside the directory and see what is inside.</p>
<div class="codehilite"><pre><span></span><code><span class="gp">%</span>UCL_PROMPT_SHORT% &lt;strong&gt;cd tutorial-quickstart&lt;/strong&gt;
<span class="gp">%</span>UCL_PROMPT_SHORT% &lt;strong&gt;ls -F &lt;/strong&gt;
</code></pre></div>

<p>You will see the following contents:</p>
<div class="codehilite"><pre><span></span><code>Images/  osg-template-job.submit  short.sh  tutorial02.submit log/     README.md   tutorial01.submit  tutorial03.submit
</code></pre></div>

<p>We will focus our attention on <code>short.sh</code> (execution file) and <code>tutorial01.submit</code>. We will not worry about other files in this exercise. Feel free to take a look at other files if you are interested.</p>
<h2 id="job-execution-file">Job Execution File<a class="headerlink" href="#job-execution-file" title="Permanent link">&para;</a></h2>
<p>Take a look at the job execution file <code>short.sh</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="gp">%</span>UCL_PROMPT_SHORT% &lt;strong&gt;cat short.sh &lt;/strong&gt;
</code></pre></div>

<p>This is a shell script, quite ordinary . Run this shell script locally to see what it does.</p>
<div class="codehilite"><pre><span></span><code><span class="gp">%</span>UCL_PROMPT_SHORT% &lt;strong&gt;chmod + short.sh &lt;/strong&gt;
<span class="gp">%</span>UCL_PROMPT_SHORT% &lt;strong&gt;./short.sh &lt;/strong&gt;
</code></pre></div>

<h2 id="submitting-the-job-on-the-osg">Submitting the job on the OSG<a class="headerlink" href="#submitting-the-job-on-the-osg" title="Permanent link">&para;</a></h2>
<p>The job description file <code>tutorial01.submit</code> executes the shell script <code>short.sh</code> as a vanilla universe job. Take a look at the job description file.</p>
<div class="codehilite"><pre><span></span><code><span class="gp">%</span>UCL_PROMPT_SHORT% &lt;strong&gt;cat tutorial01.submit &lt;/strong&gt;
</code></pre></div>

<p>Now run this job on the OSG.</p>
<div class="codehilite"><pre><span></span><code><span class="gp">%</span>UCL_PROMPT_SHORT% &lt;strong&gt;condor_submit tutorial01.submit &lt;/strong&gt;
</code></pre></div>

<p>Once your job has finished, you can look at the files that HTCondor has returned to the working directory. If everything was successful, it should have returned:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">job</span>.<span class="nv">output</span> <span class="ss">(</span><span class="nv">An</span> <span class="nv">output</span> <span class="nv">file</span> <span class="k">for</span> <span class="nv">each</span> <span class="nv">job</span><span class="s1">&#39;</span><span class="s">s output)</span>
<span class="nv">job</span>.<span class="nv">error</span>: <span class="ss">(</span><span class="nv">An</span> <span class="nv">error</span> <span class="nv">file</span> <span class="k">for</span> <span class="nv">each</span> <span class="nv">job</span><span class="s1">&#39;</span><span class="s">s errors)</span>
<span class="nv">job</span>.<span class="nv">log</span>: <span class="ss">(</span><span class="nv">A</span> <span class="nv">log</span> <span class="nv">file</span> <span class="k">for</span> <span class="nv">each</span> <span class="nv">job</span><span class="s1">&#39;</span><span class="s">s log)</span>
</code></pre></div>

<p>Read the output file.</p>
<div class="codehilite"><pre><span></span><code><span class="gp">%</span>UCL_PROMPT_SHORT% &lt;strong&gt;cat job.output &lt;/strong&gt;
</code></pre></div>

<p>Observe the difference between the outputs from running the job on the OSG and running locally. (Hint: Check the username, id, work directory etc.)</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../part1-ex3-connect-modules/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../part1-ex3-connect-modules/" class="btn btn-xs btn-link">
        1.3. Software modules
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../part1-ex1-connect-intro/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../part1-ex1-connect-intro/" class="btn btn-xs btn-link">
        1.1. OSG Connect
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>